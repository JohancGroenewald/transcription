#!/usr/bin/env sh

REPO_ROOT="$(cd "$(dirname "$0")/.." && pwd)"
SCRIPT="$REPO_ROOT/.githooks/bump-version.ps1"

if [ "${SKIP_VERSION_BUMP:-}" = "1" ]; then
  exit 0
fi

if [ -f "$SCRIPT" ]; then
  if command -v pwsh >/dev/null 2>&1; then
    pwsh -NoProfile -ExecutionPolicy Bypass -File "$SCRIPT"
  elif command -v powershell >/dev/null 2>&1; then
    powershell -NoProfile -ExecutionPolicy Bypass -File "$SCRIPT"
  fi
fi

exit 0
